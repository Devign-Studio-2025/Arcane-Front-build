import{v as p,a as o}from"./main-BINZ1ccu.js";/* empty css             */import{J as m}from"./just-validate.es-C73wyOde.js";document.addEventListener("DOMContentLoaded",()=>{const e=[...document.querySelectorAll(".dv-auth__otp-input")],s=document.querySelector(".dv-auth__submit"),a=e.length,n=t=>{s.disabled=!t},d=()=>e.every(t=>/^\d$/.test(t.value)),u=t=>{t<a-1&&e[t+1].focus()},c=t=>{t>0&&e[t-1].focus()};e.forEach((t,i)=>{t.addEventListener("input",r=>{r.target.value=r.target.value.replace(/\D/g,"").slice(0,1),r.target.value&&u(i),n(d())}),t.addEventListener("keydown",r=>{r.key==="Backspace"&&!r.target.value&&c(i)})}),e[0].addEventListener("paste",t=>{const i=t.clipboardData.getData("text").replace(/\D/g,"").slice(0,a);i.split("").forEach((r,l)=>{e[l]&&(e[l].value=r)}),e[Math.min(i.length,a)-1]?.focus(),n(d())}),n(!1)});class h{constructor(s=120){this.duration=s,this.timeLeft=s,this.timer=document.getElementById("timer"),this.timeDisplay=document.getElementById("time"),this.resendLink=document.getElementById("resend"),this.interval=null}start(){this.interval=setInterval(()=>this.tick(),1e3)}tick(){this.timeLeft--,this.updateDisplay(),this.timeLeft<=30&&this.timer.classList.add("warning"),this.timeLeft<=0&&this.complete()}updateDisplay(){const s=Math.floor(this.timeLeft/60),a=this.timeLeft%60;this.timeDisplay.textContent=`${s.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`}complete(){clearInterval(this.interval),this.timer.classList.add("dv-display-none"),this.resendLink.classList.remove("dv-display-none")}}document.addEventListener("DOMContentLoaded",()=>{new h().start()});const v=new m(".dv-auth__form",p());v.addField("#otp-code-1",[{rule:"required",errorMessage:"وارد کردن هر 4 رقم الزامی است"}],{errorsContainer:o("#dv-auth__otp-inputs-wrapper")}).addField("#otp-code-2",[{rule:"required",errorMessage:"وارد کردن هر 4 رقم الزامی است"}],{errorsContainer:o("#dv-auth__otp-inputs-wrapper")}).addField("#otp-code-3",[{rule:"required",errorMessage:"وارد کردن هر 4 رقم الزامی است"}],{errorsContainer:o("#dv-auth__otp-inputs-wrapper")}).addField("#otp-code-4",[{rule:"required",errorMessage:"وارد کردن هر 4 رقم الزامی است"}],{errorsContainer:o("#dv-auth__otp-inputs-wrapper")});
